dist: trusty

language: go

go:
  - master # This uses automatically the latest version of go

install:
  - go get github.com/gohugoio/hugo # This provides the latest version of Hugo to Travis CI

before_script:
  - rm -rf public 2> /dev/null

script:
  - hugo version
  - hugo

deploy:
  provider: pages
  skip-cleanup: true
  local_dir: public
  github-token: $GITHUB_TOKEN # a token generated on github allowing travis to push code on you repository
  keep-history: true
  on:
    branch: master